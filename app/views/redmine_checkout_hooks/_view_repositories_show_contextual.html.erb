<div class="repository-info">
  <% if repository_http %>
    <a href="<%= URI.escape repository_url %>">Smart HTTP</a>
  <% end %>
  <%= text_field_tag :checkout_cmd, repository_cmd, :readonly => true %>
  <div id="clipboard_container" title="<%= l(:label_copy_to_clipboard) %>">
    <div id="clipboard_button"><%= image_tag 'paste.png', :plugin => 'redmine_scm' %></div>
  </div>
</div>
<div style="clear: left"></div>

<%= javascript_tag do -%>
function copy_command() {
  var command = document.getElementById("checkout_cmd");
  command.select();
  document.execCommand("copy");
}

document.addEventListener("DOMContentLoaded", function(event) { 
  var command = document.getElementById("clipboard_button");
  command.onclick = copy_command
});

<%= end -%>
